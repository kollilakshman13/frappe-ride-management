{
 "accept_payment": 0,
 "allow_comments": 0,
 "allow_delete": 0,
 "allow_edit": 0,
 "allow_incomplete": 0,
 "allow_multiple": 0,
 "allow_print": 1,
 "amount": 0.0,
 "amount_based_on_field": 0,
 "apply_document_permissions": 0,
 "button_label": "Save",
 "client_script": "\r\n\r\n\r\nconst captchaText = document.getElementById('captcha-text');\r\nconst captchaInput = document.getElementById('captcha-input');\r\nconst refreshCaptchaButton = document.getElementById('refresh-captcha');\r\nconst submitFormButton = document.getElementById('submit-form');\r\n\r\n// Function to generate random captcha\r\nfunction generateCaptcha() {\r\n    const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    let captcha = '';\r\n    for (let i = 0; i < 6; i++) {\r\n        captcha += chars.charAt(Math.floor(Math.random() * chars.length));\r\n    }\r\n    return captcha;\r\n}\r\n\r\n// Function to refresh captcha\r\nfunction refreshCaptcha() {\r\n    captchaText.textContent = generateCaptcha();\r\n    captchaInput.value = ''; // Clear the captcha input field\r\n}\r\n\r\n// Refresh captcha initially and set interval for auto refresh\r\nrefreshCaptcha();\r\nsetInterval(refreshCaptcha, 30000);\r\n\r\n// Event listener for refresh button click\r\nrefreshCaptchaButton.addEventListener('click', refreshCaptcha);\r\n\r\n// Event listener for form submission\r\nsubmitFormButton.addEventListener('click', function() {\r\n    // Verify captcha\r\n    if (captchaInput.value === captchaText.textContent) {\r\n        // Optional: Disable form submission button to prevent double submission\r\n        submitFormButton.disabled = true;\r\n\r\n        // Save the document using Frappe's web_form.save() method\r\n        frappe.web_form.save().then((r) => {\r\n            if (!r.exc) {\r\n                // Success message\r\n                alert('Document saved successfully!');\r\n\r\n                // Reset form fields and refresh captcha\r\n                refreshCaptcha();\r\n\r\n                // Enable submit button after resetting\r\n                submitFormButton.disabled = false;\r\n\r\n                // Reload the form\r\n                location.reload(); // This will refresh the entire page\r\n            } else {\r\n                // Error message\r\n                alert('Error: ' + r.exc);\r\n                submitFormButton.disabled = false; // Re-enable the button on error\r\n            }\r\n        }).catch((error) => {\r\n            console.error('Error saving document:', error);\r\n            alert('An error occurred while saving the document. Please try again.');\r\n            submitFormButton.disabled = false; // Re-enable the button on error\r\n        });\r\n    } else {\r\n        alert('CAPTCHA verification failed. Please try again.');\r\n        refreshCaptcha();\r\n    }\r\n});\r\n\r\n\r\n\r\n        ",
 "creation": "2023-12-23 15:30:01.625380",
 "currency": "INR",
 "custom_css": "\r\n\r\n.captcha {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 10px;\r\n}\r\n#captcha-text {\r\n    font-size: 20px;\r\n    background-color: #eee;\r\n    padding: 5px 10px;\r\n    margin-right: 10px;\r\n    border: 1px solid #ccc;\r\n    border-radius: 3px;\r\n}\r\n#refresh-captcha {\r\n    background-color: #007bff;\r\n    color: white;\r\n    border: none;\r\n    padding: 5px 10px;\r\n    border-radius: 3px;\r\n    cursor: pointer;\r\n}\r\n#captcha-input {\r\n    padding: 10px;\r\n    border: 1px solid #ccc;\r\n    border-radius: 3px;\r\n    margin-bottom: 10px;\r\n}\r\n.btn-primary {\r\n    background-color: #007bff;\r\n    color: white;\r\n    border: none;\r\n    padding: 10px 20px;\r\n    border-radius: 3px;\r\n    cursor: pointer;\r\n}\r\n\r\nbutton {\r\n    background-color:#EE502D;\r\n    color:white;\r\n    border:none;\r\n    padding:5px;\r\n}\r\n\r\n/* Hide the Cancel button */\r\n.btn.btn-default.btn-xs {\r\n    display: none;\r\n}\r\n\r\n/* Hide the Book Now button */\r\n.btn.btn-primary.btn-sm.primary-action {\r\n    display: none;\r\n}\r\n\r\n.web-form-actions {\r\n    display:none;\r\n}\r\n.web-form-footer{\r\n    display:none;\r\n}\r\n\r\n",
 "doc_type": "driverss",
 "docstatus": 0,
 "doctype": "Web Form",
 "idx": 0,
 "is_multi_step_form": 0,
 "is_standard": 1,
 "login_required": 0,
 "max_attachment_size": 0,
 "modified": "2024-06-19 16:17:43.171838",
 "modified_by": "Administrator",
 "module": "Ride Management",
 "name": "bookingride",
 "owner": "kollilakshman13@gmail.com",
 "payment_button_label": "Buy Now",
 "published": 1,
 "route": "bookingride",
 "route_to_success_link": 0,
 "show_attachments": 0,
 "show_in_grid": 0,
 "show_sidebar": 0,
 "sidebar_items": [],
 "success_url": "/bookingride",
 "title": "bookingride",
 "web_form_fields": [
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "first_name",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "First Name",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "last_name",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "Last Name",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "full_name",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "Full Name",
   "max_length": 0,
   "max_value": 0,
   "read_only": 1,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "dob",
   "fieldtype": "Date",
   "hidden": 0,
   "label": "DOB",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "contact_number",
   "fieldtype": "Int",
   "hidden": 0,
   "label": "Contact Number",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "car",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "Car",
   "max_length": 0,
   "max_value": 0,
   "options": "",
   "read_only": 1,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "default": "0",
   "fieldname": "published",
   "fieldtype": "Check",
   "hidden": 0,
   "label": "published",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "route",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "Route",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "address",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "Address",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "custom_html",
   "fieldtype": "HTML",
   "hidden": 0,
   "label": "Custom HTML",
   "max_length": 0,
   "max_value": 0,
   "options": "<div class=\"web-form\">\n        <form id=\"apply-form\" method=\"post\">\n            <label for=\"captcha-text\">CAPTCHA: </label>\n            <span id=\"captcha-text\"></span><br>\n            <label for=\"captcha-input\">Enter CAPTCHA: </label>\n            <input id=\"captcha-input\" required type=\"text\">\n            <button id=\"refresh-captcha\" type=\"button\">Refresh CAPTCHA</button><br>\n            <button id=\"submit-form\" style=\"margin-top: 10px;\" type=\"button\">Save Document</button>\n        </form>\n    </div>",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  }
 ]
}